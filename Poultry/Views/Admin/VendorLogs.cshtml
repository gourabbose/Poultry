@model IEnumerable<Poultry.Models.VendorLog>

@{
    ViewBag.Title = "VendorLogs";
}

@section scripts{
    @Scripts.Render("~/bundles/jqueryui")
    @Styles.Render("~/Content/themes/base/css")
    <style>
        .datepicker {
            width: 15%;
        }

        .searchCriteria {
            padding-top: 10px;
            padding-bottom: 10px;
            display: none;
        }
    </style>
}
<h2>Vendor Log</h2>
<br />
<div style="display: none">
    <strong>Search By : </strong>
    <select id="SearchSelecter">
        <option value="">--- select ---</option>
        <option value="Date">Date</option>
        <option value="Vendor">Vendor</option>
        <option value="Item">Item</option>
    </select>
</div>
<div id="DateSelecter" class="searchCriteria">
    <strong>From :</strong>
    <input type="text" id="fromDate" class="datepicker" />
    <strong>To :</strong>
    <input type="text" id="toDate" class="datepicker" />
    <input type="button" id="search" value="Search" />
</div>
<div id="VendorSelecter" class="searchCriteria">
    <strong>Select Vendor :</strong>
    <select id="selectVendor">
    </select>
</div>
@if (Model.Count() > 0)
{
    <div style="margin-top: 20px; margin-bottom: 20px;">
        @foreach (var trans in Model)
        {
            Html.RenderPartial("VendorLogPages", trans);
        }
    </div>
}
else
{
    <strong>No Data Found.</strong>   
}
<script type="text/javascript">
    $(document).ready(function () {
        $(".datepicker").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "dd-mm-yy"
        });
        $('#SearchSelecter').change(function () {
            $('.searchCriteria').hide();
            var selectedValue = $(this).val();
            switch (selectedValue) {
                case "Date":
                    $('#DateSelecter').show();
                    break;
                case "Vendor":
                    $('#selectVendor').empty().append($('<option>').html('--- select ---'));
                    $.get("/api/Service/VendorList", "", function (data) {
                        $(data).each(function () {
                            $('<option>').attr('value', this.Id).html(this.Name).appendTo('#selectVendor');
                        });
                    });
                    $('#VendorSelecter').show();
                    break;
                case "Item": break;
            }
        });
        $('#selectVendor').change(function () {

        });
    });
</script>
